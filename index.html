<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="js/mui.min.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
    <script type="text/javascript" charset="utf-8">
      	mui.init();
    </script>
	<script type="text/javascript">
		document.addEventListener('plusready',()=>{
			console.log('原生能力已准备好，就是manifest.json文件')
		})
	</script>
</head>
<body>
	<!-- 主界面菜单同时移动 -->
		<!-- 侧滑导航根容器 -->
		<div class="mui-off-canvas-wrap mui-draggable">
			<!-- 主页面容器 -->
			<div class="mui-inner-wrap">
				<!-- 菜单容器 -->
				<aside class="mui-off-canvas-left" id="offCanvasSide">
					<div class="mui-scroll-wrapper">
						<div class="mui-scroll">
							<!-- 菜单具体展示内容 -->
							
						</div>
					</div>
				</aside>
				<!-- 主页面标题 -->
				<header class="mui-bar mui-bar-nav">
					<a class="mui-icon mui-action-menu mui-icon-bars mui-pull-left" href="#offCanvasSide"></a>
					<h1 class="mui-title">好看、瘦、暴富 ！！</h1>
				</header>
				<nav class="mui-bar mui-bar-tab">
					<a class="mui-tab-item mui-active">
						<span class="mui-icon mui-icon-home"></span>
						<span class="mui-tab-label">首页</span>
					</a>
					<a class="mui-tab-item">
						<span class="mui-icon mui-icon-phone"></span>
						<span class="mui-tab-label">电话</span>
					</a>
					<a class="mui-tab-item">
						<span class="mui-icon mui-icon-email"></span>
						<span class="mui-tab-label">邮件</span>
					</a>
					<a class="mui-tab-item">
						<span class="mui-icon mui-icon-gear"></span>
						<span class="mui-tab-label">设置</span>
					</a>
				</nav>
				<!-- 主页面内容容器 -->
				<div class="mui-content mui-scroll-wrapper">
					<div class="mui-scroll">
						<!-- 主界面具体展示内容 -->
						<ul class="mui-table-view mui-grid-view mui-grid-9">
						<li id="myphoto" class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<a href="#">
								<span class="mui-icon mui-icon-camera"></span>
								<div class="mui-media-body">拍照</div>
							</a>
						</li>
						<li id="myMap" class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<a href="#">
								<span class="mui-icon mui-icon-location"></span>
								<div class="mui-media-body">地图</div>
							</a>
						</li>
						<li id="myPhone" class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<a href="#">
								<span class="mui-icon mui-icon-phone"></span>
								<div class="mui-media-body">拨号</div>
							</a>
						</li>
							</ul>
							<img  id="myImg" style="width: 400px; height: 200px;margin: 10px auto;">
					</div>
				</div>
		   	 <div class="mui-off-canvas-backdrop"></div>
			</div>
		</div>
		<script type="text/javascript">
			//1、拍照功能-（MUI框架中移动端点击事件是tap）
			let takePhoto = function(){
				//点击事件已生效，进行拍照操作
				
				//1、获取摄像机对象-plus是全局对象，可以调用拍照功能
				//2、摄像机对象有个 拍照方法
				//3、用IO对象转为绝对路径，显示在页面上
				let camera = plus.camera.getCamera(1);
				camera.captureImage((path)=>{ //拍照成功执行的函数，得到图片路径（相对路径）
					document.getElementById('myImg').src = plus.io.convertLocalFileSystemURL(path)
				})
			}
			document.getElementById('myphoto').addEventListener('tap', takePhoto) //监听点击事件执行函数
			
			//2、点击地图跳转到map页面
			document.getElementById('myMap').addEventListener('tap', function(){
				location.href='map.html'
			})
			
			//3、拨号功能-（硬件device中有拨号方法）
			document.getElementById('myPhone').addEventListener('tap', ()=>{
				plus.device.dial('10086', true)
			})
		</script>
</body>
</html>